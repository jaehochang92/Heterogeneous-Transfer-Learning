# Reproducibility Guide (Curated Ovarian Cancer Example)

This document describes how to reproduce the curated ovarian cancer pipeline and figures in this repository.

## Scope
- Variable pre-selection: `CuratedOvarianCancer/1.data_pre_processing.R`
- Cross-validated prediction and visualization: `CuratedOvarianCancer/2.cv_prediction.R`

## Environment
- OS: tested on macOS
- R: `4.5.2`
- Required R packages and tested versions:
  - `curatedOvarianData` `1.46.2`
  - `limma` `3.64.0`
  - `glmnet` `4.1.8`
  - `ggplot2` `4.0.0`
  - `Biobase` `2.68.0`
  - `BiocGenerics` `0.54.0`

## Setup
Run these commands in R if dependencies are missing:

```r
install.packages(c("glmnet", "ggplot2"))
if (!requireNamespace("BiocManager", quietly = TRUE)) install.packages("BiocManager")
BiocManager::install(c("curatedOvarianData", "limma", "Biobase", "BiocGenerics"))
```

## Determinism
- `CuratedOvarianCancer/2.cv_prediction.R` sets `set.seed(13)` for fold assignment.
- Re-running with the same package versions and seed should produce the same CV split and metrics.

## Run Order
From repository root:

```bash
Rscript CuratedOvarianCancer/1.data_pre_processing.R
Rscript CuratedOvarianCancer/2.cv_prediction.R
```

## Expected Inputs
- Datasets loaded from `curatedOvarianData`:
  - `GSE9891_eset`
  - `GSE26712_eset`
- Generated by step 1:
  - `target_26_var.csv`
  - `proxy_98_var.csv`

`2.cv_prediction.R` looks for CSVs in:
1. current working directory
2. `CuratedOvarianCancer/` (fallback)

## Expected Outputs
- `target_26_var.csv` (from step 1)
- `proxy_98_var.csv` (from step 1)
- `cv_results.pdf` (from step 2, RMSE plot across methods/folds)

## Reproducibility Checks
- Confirm script execution exits without errors:
  - `Rscript CuratedOvarianCancer/1.data_pre_processing.R`
  - `Rscript CuratedOvarianCancer/2.cv_prediction.R`
- Confirm output files exist:
  - `target_26_var.csv`
  - `proxy_98_var.csv`
  - `cv_results.pdf`

## Notes
- The pipeline filters to deceased subjects using `vital_status == "deceased"`.
- Outcomes are transformed using `log(days_to_death)`.
- If you modify package versions, seeds, or preprocessing, numerical results may change.
